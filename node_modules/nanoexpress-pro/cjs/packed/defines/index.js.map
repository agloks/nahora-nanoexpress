{"version":3,"file":"index.js","sources":["../../../src/packed/defines/webrtc-server.js","../../../src/packed/defines/proxy.js"],"sourcesContent":["// Code was used from\n// https://flaviocopes.com/webrtc/\n// thank you\n\nexport default (app) => {\n  app.webRTCServer = (path = '/webrtc', options = {}, ajv) => {\n    const connections = {};\n\n    app.ws(\n      path,\n      options,\n      (req, ws) => {\n        ws.on(\n          'message',\n          ({ action, error, credentials: { id, targetId } = {}, payload }) => {\n            switch (action) {\n              case 'register': {\n                if (connections[id]) {\n                  ws.send(\n                    JSON.stringify({ action: 'register', success: false })\n                  );\n                } else {\n                  connections[id] = ws;\n                  ws.id = id;\n\n                  ws.send(\n                    JSON.stringify({ action: 'register', success: true })\n                  );\n                }\n                break;\n              }\n              case 'offer': {\n                const connection = connections[targetId];\n\n                if (connection) {\n                  connection.targetId = ws.id;\n                  ws.targetId = targetId;\n\n                  connection.send(\n                    JSON.stringify({\n                      action,\n                      credentials: { sourceId: connection.id },\n                      payload\n                    })\n                  );\n                }\n                break;\n              }\n              case 'answer':\n              case 'candidate': {\n                const connection = connections[ws.targetId];\n                if (connection) {\n                  connection.send(\n                    JSON.stringify({\n                      action,\n                      payload\n                    })\n                  );\n                }\n                break;\n              }\n              case 'close': {\n                const { targetId: wsId } = ws;\n                const connection = connections[wsId];\n\n                if (connection) {\n                  connection.send(JSON.stringify({ action: 'close' }));\n                }\n                break;\n              }\n              default: {\n                ws.send(\n                  JSON.stringify({\n                    action: 'error',\n                    error: error || `action[${action}] not found`\n                  })\n                );\n                break;\n              }\n            }\n          }\n        );\n        ws.on('close', () => {\n          const { id, targetId } = ws;\n\n          connections[id] = null;\n          delete connections[id];\n\n          ws.id = null;\n          ws.targetId = null;\n          ws = null;\n\n          const targetConnection = connections[targetId];\n\n          if (targetConnection) {\n            targetConnection.send(JSON.stringify({ action: 'close' }));\n\n            // Clean target user too\n            connections[targetId] = null;\n            delete connections[targetId];\n          }\n        });\n      },\n      ajv\n    );\n\n    return app;\n  };\n};\n","import http from 'http';\nimport https from 'https';\n\nhttp.globalAgent.keepAlive = true;\nhttps.globalAgent.keepAlive = true;\n\nconst httpRequest = (agent, url, config) =>\n  new Promise((resolve, reject) => {\n    agent[config.method](url, config, (response) => {\n      let buff;\n      response.on('data', (chunk) => {\n        chunk = Buffer.isBuffer(chunk) ? chunk : Buffer.from(chunk);\n\n        if (!buff) {\n          buff = chunk;\n        } else {\n          buff = Buffer.concat([buff, chunk]);\n        }\n      });\n      response.on('end', () => {\n        response.data = buff;\n\n        resolve(response);\n      });\n      response.on('error', reject);\n    });\n  });\n\nconst prepareProxy = (\n  path,\n  {\n    url,\n    method,\n    enableHeadersProxy = false,\n    restrictedHeaders = [\n      'Host',\n      'Content-Length',\n      'uWebSockets',\n      'Accept-Encoding'\n    ]\n  } = {},\n  wsInstance\n) => {\n  const isAny = method === undefined;\n  const fetchUrl = url.indexOf('*') !== -1 || url.indexOf(':') !== -1;\n  const proxyPathLen = fetchUrl ? path.length : 0;\n  const disallowedHeaders = restrictedHeaders.map((header) =>\n    header.toLowerCase()\n  );\n\n  // Prepared object to return\n  const prepared = {\n    isAny\n  };\n\n  const ssl = url.indexOf('https:') === 0;\n  const agent = ssl ? https : http;\n\n  if (method) {\n    method = method.toLowerCase();\n  }\n\n  // HTTP Request configuration\n  const config = {\n    url,\n    method,\n    headers: {}\n  };\n\n  prepared.method = isAny ? 'any' : method;\n  prepared.http = async (res, req) => {\n    // Allow waiting for request finishing\n    let isAborted = false;\n    res.onAborted(() => {\n      isAborted = true;\n    });\n\n    // Fetch needed methods and configure\n    const httpUrl = fetchUrl ? url + req.getUrl().substr(proxyPathLen) : url;\n\n    config.method = isAny ? req.getMethod() : method;\n\n    // Proxy headers too if it's defined\n    if (enableHeadersProxy) {\n      req.forEach((key, value) => {\n        if (disallowedHeaders.indexOf(key) === -1) {\n          config.headers[key] = value;\n        }\n      });\n    }\n\n    const { data, headers } = await httpRequest(agent, httpUrl, config);\n\n    if (isAborted) {\n      return;\n    }\n\n    res.cork(() => {\n      if (isAborted) {\n        return;\n      }\n\n      if (enableHeadersProxy) {\n        for (const key in headers) {\n          const value = headers[key];\n\n          if (disallowedHeaders.indexOf(key) !== -1) {\n            continue;\n          }\n\n          if (typeof value === 'string') {\n            res.writeHeader(key, value);\n          } else if (value.splice) {\n            for (let i = 0, len = value.length; i < len; i++) {\n              res.writeHeader(key, value[i]);\n            }\n          }\n        }\n      }\n\n      res.end(data);\n    });\n  };\n  if (wsInstance) {\n    prepared.ws = {\n      open(ws, req) {\n        config.method = 'ws';\n\n        const wsUrl =\n          url.replace(/http/, 'ws') +\n          (fetchUrl ? req.getUrl().substr(proxyPathLen) : '');\n\n        ws.instance = new wsInstance(wsUrl);\n\n        ws.instance.on('message', (data) => {\n          ws.send(data);\n        });\n\n        ws.instance.emit('open');\n      },\n      message(ws, message, isBinary) {\n        if (!isBinary) {\n          message = Buffer.from(message).toString('utf8');\n        }\n\n        ws.instance.send(message);\n      },\n      close(ws, code, reason) {\n        ws.instance.close(code, reason);\n      }\n    };\n  }\n\n  return prepared;\n};\n\nexport default (app) => {\n  app.proxy = (path, config, wsInstance) => {\n    const { ws, http, method } = prepareProxy(path, config, wsInstance);\n\n    if (http) {\n      app._app[method](path, http);\n    }\n    if (ws) {\n      app._app.ws(path, ws);\n    }\n    return app;\n  };\n};\n"],"names":[],"mappings":"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"}